# news package

## Models


### class news.models.Query(id, query, queriedAt)
Bases: `django.db.models.base.Model`


* **Parameters**

    
    * **id** (*AutoField*) – Id


    * **query** (*CharField*) – Query


    * **queriedAt** (*DateTimeField*) – Queriedat


    * **results** (*ManyToManyField*) – Results



#### exception DoesNotExist()
Bases: `django.core.exceptions.ObjectDoesNotExist`


#### exception MultipleObjectsReturned()
Bases: `django.core.exceptions.MultipleObjectsReturned`


#### get_next_by_queriedAt(\*, field=<django.db.models.fields.DateTimeField: queriedAt>, is_next=True, \*\*kwargs)
**Autogenerated:** Finds next instance based on `queriedAt`.


#### get_previous_by_queriedAt(\*, field=<django.db.models.fields.DateTimeField: queriedAt>, is_next=False, \*\*kwargs)
**Autogenerated:** Finds previous instance based on `queriedAt`.


#### id()
**Model field:** ID


#### objects( = <django.db.models.manager.Manager object>)

#### queriedAt()
**Model field:** queriedAt


#### query()
**Model field:** query


#### results()
**Model field:** results, accesses the M2M `Query` model.


### class news.models.QueryResult(id, headline, link, source)
Bases: `django.db.models.base.Model`


* **Parameters**

    
    * **id** (*AutoField*) – Id


    * **headline** (*CharField*) – Headline


    * **link** (*URLField*) – Link


    * **source** (*CharField*) – Source



#### exception DoesNotExist()
Bases: `django.core.exceptions.ObjectDoesNotExist`


#### exception MultipleObjectsReturned()
Bases: `django.core.exceptions.MultipleObjectsReturned`


#### headline()
**Model field:** headline


#### id()
**Model field:** ID


#### link()
**Model field:** link


#### objects( = <django.db.models.manager.Manager object>)

#### query_set()
**Model field:** results, accesses the M2M `Query` model.


#### source()
**Model field:** source

## Views


### news.views.getNews(request)
View method mapped on the url.

It handles the request and responds accordingly by by checking the
expiry time of the query if query has been sent before, and also for the new query.


* **Parameters**

    **request** (*django.http.HttpRequest*) – The request made from the client side



* **Returns**

    A response in json format containing the list of all results



* **Return type**

    django.http.JsonResponse



### news.views.updateResults(queryObject, query)
Updates the results by fetching the queries from APIs

Retrieves the posts from the APIs based on the query from the user. 
Creates a models.QueryResult object for every post and attaches with the
models.Query object passed in the parameter


* **Parameters**

    
    * **queryObject** (*models.Query*) – The object to which the fetched results have to be attached


    * **query** (*str*) – The query to fetch the results for


## Tests


* news.tests package


    * Models Tests


    * Views Tests


    * Urls Tests


## ThirdPartyAPIFunctions


### news.ThirdPartyAPIFunctions.getPosts(query=None)
Fetches results from all the APIs returns a concatenated list of all results fetched.

Calls getPostsFromNewsAPI and getPostsFromRedditAPI by passing query as the parameter. Concatenates what each function returns and returns the concatenated list.


* **Parameters**

    **query** (*str**, **optional*) – The query to fetch the results for, defaults to None



* **Returns**

    A list of fetched results based on the query in dictionary format



* **Return type**

    list



### news.ThirdPartyAPIFunctions.getPostsFromNewsAPI(query=None)
Fetches results from NewsAPI based on the query in parameters.

Connects to the NewsAPI, fetches the articles. If the query is empty then it fetches the top results, otherwise it fetches the results based on the query.


* **Parameters**

    **query** (*str**, **optional*) – The query to fetch the results for, defaults to None



* **Returns**

    A list of fetched results based on the query in dictionary format



* **Return type**

    list



### news.ThirdPartyAPIFunctions.getPostsFromRedditAPI(query=None)
Fetches results from RedditAPI based on the query in parameters.

Connects to the RedditAPI, fetches the articles. If the query is empty then it fetches the top results, otherwise it fetches the results based on the query.


* **Parameters**

    **query** (*str**, **optional*) – The query to fetch the results for, defaults to None



* **Returns**

    A list of fetched results based on the query in dictionary format



* **Return type**

    list
